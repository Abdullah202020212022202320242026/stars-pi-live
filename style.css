// Pi Login
const scopes = ['username', 'payments'];

document.getElementById('pi-login').addEventListener('click', async () => {
  try {
    const result = await window.Pi.authenticate(scopes, onIncompletePaymentFound);
    alert(`Ù…Ø±Ø­Ø¨Ø§Ù‹ ${result.user.username}`);
    console.log("User info:", result.user);
  } catch (error) {
    console.error("Ø®Ø·Ø£ ÙÙŠ ØªØ³Ø¬ÙŠÙ„ Ø§Ù„Ø¯Ø®ÙˆÙ„:", error);
  }
});

function onIncompletePaymentFound(payment) {
  console.log('ØªÙ… Ø§Ù„Ø¹Ø«ÙˆØ± Ø¹Ù„Ù‰ Ø¯ÙØ¹Ø© ØºÙŠØ± Ù…ÙƒØªÙ…Ù„Ø©:', payment);
}

// Click gift event (display selection for future payment)
document.querySelectorAll('.gift').forEach((gift) => {
  gift.addEventListener('click', () => {
    const name = gift.getAttribute('data-name');
    const price = gift.getAttribute('data-price');
    alert(`ğŸ Ø§Ø®ØªØ±Øª Ù‡Ø¯ÙŠØ©: ${name} Ø¨Ù‚ÙŠÙ…Ø© ${price} Pi (Ù‚Ø±ÙŠØ¨Ø§Ù‹ Ø³ÙŠØªÙ… ØªÙ†ÙÙŠØ° Ø§Ù„Ø¯ÙØ¹!)`);
    // Ù„Ø§Ø­Ù‚Ù‹Ø§: ØªÙ†ÙÙŠØ° Ø¹Ù…Ù„ÙŠØ© Ø§Ù„Ø¯ÙØ¹ Ø¹Ø¨Ø± Pi SDK
  });
});
